# –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

**–î–∞—Ç–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:** 2025-11-06
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

---

## üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –ú–∏–≥—Ä–∞—Ü–∏–∏

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å **5 –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**:

#### 1. Core - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (3 –º–∏–≥—Ä–∞—Ü–∏–∏)

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
backend/apps/core/migrations/0005_add_missing_user_management_buttons.py
```
**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –ö–Ω–æ–ø–∫–∏ `activate`, `deactivate`, `archive`, `restore` –¥–ª—è users/contractors/supervisions
- 24 –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤ ButtonAccess

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –ù–∞—á–∞–ª—å–Ω–∏–∫–∞ —É—á–∞—Å—Ç–∫–∞
backend/apps/core/migrations/0006_update_delete_button_add_site_manager.py
```
**–ß—Ç–æ –∏–∑–º–µ–Ω—è–µ—Ç:**
- –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–æ–ª—å SITE_MANAGER –∫ –ø—Ä–∞–≤–∞–º —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è users/contractors/supervisions

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —Ä–∞–±–æ—Ç—ã —Å —á–µ—Ä—Ç–µ–∂–∞–º–∏ ‚≠ê –ù–û–í–û–ï
backend/apps/core/migrations/0007_add_drawing_buttons_to_projects.py
```
**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- `add_drawing` - –î–æ–±–∞–≤–∏—Ç—å —á–µ—Ä—Ç—ë–∂ (7 —Ä–æ–ª–µ–π)
- `delete_drawing` - –£–¥–∞–ª–∏—Ç—å —á–µ—Ä—Ç—ë–∂ (6 —Ä–æ–ª–µ–π, –ë–ï–ó –ü—Ä–æ—Ä–∞–±–∞)

---

#### 2. Tasks - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CASCADE —É–¥–∞–ª–µ–Ω–∏—è

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CASCADE —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –∑–∞–¥–∞—á
backend/apps/tasks/migrations/0002_fix_cascade_delete_preserve_records.py
```
**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç:**
- `Task.created_by`: CASCADE ‚Üí SET_NULL
- `Task.assigned_to_user`: CASCADE ‚Üí SET_NULL
- `Task.assigned_to_contractor`: CASCADE ‚Üí SET_NULL

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–¥–∞—á–∏ –ù–ï —É–¥–∞–ª—è—é—Ç—Å—è, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è

---

#### 3. Tenders - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CASCADE —É–¥–∞–ª–µ–Ω–∏—è

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 5: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CASCADE —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è —Ç–µ–Ω–¥–µ—Ä–æ–≤
backend/apps/tenders/migrations/0006_fix_tenderbid_participant_cascade.py
```
**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç:**
- `TenderBid.participant`: CASCADE ‚Üí SET_NULL

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç–µ–Ω–¥–µ—Ä –ù–ï —É–¥–∞–ª—è—é—Ç—Å—è

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

### –®–∞–≥ 1: –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π
docker compose exec db pg_dump -U postgres checksite_db > backup_$(date +%Y%m%d_%H%M%S).sql
```

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec backend python manage.py migrate

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
docker compose exec backend python manage.py migrate core
docker compose exec backend python manage.py migrate tasks
docker compose exec backend python manage.py migrate tenders
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Applying core.0005_add_missing_user_management_buttons... OK
Applying core.0006_update_delete_button_add_site_manager... OK
Applying core.0007_add_drawing_buttons_to_projects... OK
Applying tasks.0002_fix_cascade_delete_preserve_records... OK
Applying tenders.0006_fix_tenderbid_participant_cascade... OK
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π
docker compose exec backend python manage.py showmigrations core tasks tenders
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
core
 [X] 0005_add_missing_user_management_buttons
 [X] 0006_update_delete_button_add_site_manager
 [X] 0007_add_drawing_buttons_to_projects

tasks
 [X] 0002_fix_cascade_delete_preserve_records

tenders
 [X] 0006_fix_tenderbid_participant_cascade
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ –º–∞—Ç—Ä–∏—Ü–µ –¥–æ—Å—Ç—É–ø–∞

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
docker compose exec -T backend python manage.py shell << 'EOF'
from apps.core.models import ButtonAccess

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ projects
buttons = ['add_drawing', 'delete_drawing']
for btn_key in buttons:
    btn = ButtonAccess.objects.filter(page='projects', button_key=btn_key).first()
    if btn:
        print(f"‚úÖ {btn_key}: {btn.button_name} - {len(btn.get_accessible_roles())} —Ä–æ–ª–µ–π")
    else:
        print(f"‚ùå {btn_key}: –ù–ï –ù–ê–ô–î–ï–ù–ê!")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ users
buttons = ['activate', 'deactivate', 'archive', 'restore']
for btn_key in buttons:
    btn = ButtonAccess.objects.filter(page='users', button_key=btn_key).first()
    if btn:
        print(f"‚úÖ users/{btn_key}: OK")
    else:
        print(f"‚ùå users/{btn_key}: –ù–ï –ù–ê–ô–î–ï–ù–ê!")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–Ω–æ–ø–æ–∫
total_buttons = ButtonAccess.objects.filter(access_type='button', company__isnull=True).count()
print(f"\n–í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ: {total_buttons}")

EOF
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ add_drawing: –î–æ–±–∞–≤–∏—Ç—å —á–µ—Ä—Ç—ë–∂ - 7 —Ä–æ–ª–µ–π
‚úÖ delete_drawing: –£–¥–∞–ª–∏—Ç—å —á–µ—Ä—Ç—ë–∂ - 6 —Ä–æ–ª–µ–π
‚úÖ users/activate: OK
‚úÖ users/deactivate: OK
‚úÖ users/archive: OK
‚úÖ users/restore: OK

–í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ: 98
```

---

## üíª –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Frontend (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ)

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤—ã–º –∫–Ω–æ–ø–∫–∞–º —á–µ—Ä–µ–∑ API.

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã frontend:

1. **frontend/src/pages/Projects.tsx**
   - ‚úÖ –£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫ SUPERADMIN
   - ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ `canUseButton()`

2. **frontend/src/pages/Users.tsx**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤–∫–ª–∞–¥–∫–∏ "–ê–∫—Ç–∏–≤–Ω—ã–µ" –∏ "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ"

3. **frontend/src/pages/Contractors.tsx**
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞

4. **frontend/src/pages/Supervisions.tsx**
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞

**–î–µ–π—Å—Ç–≤–∏—è:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
docker compose restart frontend
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ Projects

1. –í–æ–π—Ç–∏ –∫–∞–∫ **DIRECTOR** (–î–∏—Ä–µ–∫—Ç–æ—Ä)
2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/dashboard/projects`
3. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ —á–µ—Ä—Ç–µ–∂–µ–π –ª—é–±–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
4. ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —á–µ—Ä—Ç—ë–∂"
5. ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" —É –∫–∞–∂–¥–æ–≥–æ —á–µ—Ä—Ç–µ–∂–∞

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ü—Ä–æ—Ä–∞–±–∞

1. –í–æ–π—Ç–∏ –∫–∞–∫ **FOREMAN** (–ü—Ä–æ—Ä–∞–±)
2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/dashboard/projects`
3. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ —á–µ—Ä—Ç–µ–∂–µ–π –ª—é–±–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
4. ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —á–µ—Ä—Ç—ë–∂"
5. ‚ùå –ù–ï –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" —É —á–µ—Ä—Ç–µ–∂–µ–π (–ü—Ä–æ—Ä–∞–± –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å)

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ CASCADE —É–¥–∞–ª–µ–Ω–∏—è

1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º
2. –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
3. ‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è –≤ –ë–î
4. ‚úÖ –ü–æ–ª–µ `assigned_to_user` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å NULL
5. ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ"

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –í–æ–π—Ç–∏ –∫–∞–∫ **DIRECTOR**
2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/dashboard/users`
3. ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∫–ª–∞–¥–∫–∞ "–ê–∫—Ç–∏–≤–Ω—ã–µ (N)"
4. ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∫–ª–∞–¥–∫–∞ "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (M)"
5. –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ"

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞ –≤ Git

### Backend - –ú–∏–≥—Ä–∞—Ü–∏–∏ (5 —Ñ–∞–π–ª–æ–≤)
```
‚úÖ backend/apps/core/migrations/0005_add_missing_user_management_buttons.py
‚úÖ backend/apps/core/migrations/0006_update_delete_button_add_site_manager.py
‚úÖ backend/apps/core/migrations/0007_add_drawing_buttons_to_projects.py
‚úÖ backend/apps/tasks/migrations/0002_fix_cascade_delete_preserve_records.py
‚úÖ backend/apps/tenders/migrations/0006_fix_tenderbid_participant_cascade.py
```

### Backend - –ú–æ–¥–µ–ª–∏ (2 —Ñ–∞–π–ª–∞)
```
‚úÖ backend/apps/tasks/models.py - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ForeignKey (CASCADE ‚Üí SET_NULL)
‚úÖ backend/apps/tenders/models.py - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ForeignKey (CASCADE ‚Üí SET_NULL)
```

### Frontend - –°—Ç—Ä–∞–Ω–∏—Ü—ã (4 —Ñ–∞–π–ª–∞)
```
‚úÖ frontend/src/pages/Projects.tsx - —É–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ SUPERADMIN
‚úÖ frontend/src/pages/Users.tsx - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤–∫–ª–∞–¥–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
‚úÖ frontend/src/pages/Contractors.tsx - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
‚úÖ frontend/src/pages/Supervisions.tsx - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (5 —Ñ–∞–π–ª–æ–≤)
```
‚úÖ CASCADE_DELETE_FIX_REPORT.md
‚úÖ PROJECTS_PAGE_ANALYSIS_REPORT.md
‚úÖ PROJECTS_PAGE_FIX_REPORT.md
‚úÖ PRODUCTION_DEPLOYMENT_CHECKLIST.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚úÖ FOREIGNKEY_ANALYSIS.md
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (2 —Ñ–∞–π–ª–∞)
```
‚ö†Ô∏è backend/test_cascade_delete_fix.py (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚ö†Ô∏è backend/test_projects_buttons_access.py (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –±—ç–∫–∞–ø
‚ùó **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π!

### 2. –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π
–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–º–µ—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫–∞—Ç–∞ (`reverse`), –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (~5-10 —Å–µ–∫—É–Ω–¥)
- Downtime –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
- –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

### 4. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- –°—Ç–∞—Ä—ã–π frontend –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º backend
- –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä–æ–º frontend

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ú–∞—Ç—Ä–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–∞ ButtonAccess
- **–î–æ:** 70 –∫–Ω–æ–ø–æ–∫
- **–ü–æ—Å–ª–µ:** 98+ –∫–Ω–æ–ø–æ–∫
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** 28+ –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫
- **–°—Ç—Ä–∞–Ω–∏—Ü —Å –∫–Ω–æ–ø–∫–∞–º–∏:** 14

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **Task** - 3 –ø–æ–ª—è (created_by, assigned_to_user, assigned_to_contractor)
- **TenderBid** - 1 –ø–æ–ª–µ (participant)

### Frontend
- **–£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥:** 5 —Ñ—É–Ω–∫—Ü–∏–π –≤ Projects.tsx
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –≤–∫–ª–∞–¥–∫–∏:** Users.tsx (–ê–∫—Ç–∏–≤–Ω—ã–µ/–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –≤ git status
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –æ—Ç–∫–∞—Ç–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –æ –¥–µ–ø–ª–æ–µ
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

---

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

```bash
# 1. –ë—ç–∫–∞–ø
docker compose exec db pg_dump -U postgres checksite_db > backup_$(date +%Y%m%d_%H%M%S).sql

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec backend python manage.py migrate

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend
docker compose restart frontend

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker compose exec backend python manage.py showmigrations core tasks tenders

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–Ω–æ–ø–∫–∏
docker compose exec backend python manage.py shell -c "from apps.core.models import ButtonAccess; print(f'–í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫: {ButtonAccess.objects.filter(access_type=\"button\", company__isnull=True).count()}')"
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs backend`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `docker compose exec backend python manage.py showmigrations`
3. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ - –æ—Ç–∫–∞—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—ç–∫–∞–ø

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
**–î–∞—Ç–∞:** 2025-11-06
**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** Claude (Sonnet 4.5)

# üêõ –ü–†–û–ë–õ–ï–ú–ê: "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

**–î–∞—Ç–∞**: 2025-11-08
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–ª–æ–∫–∞–ª—å–Ω–æ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –í—ã—Å–æ–∫–∏–π

---

## üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

### –°–∏–º–ø—Ç–æ–º—ã:

**–õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è** (http://localhost:5174):
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ" ‚Üí –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ‚Üí **–î–≤–∞ —Ç–∏–ø–∞**:
  - "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏" (CONTRACTOR)
  - "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" (SITE_MANAGER, FOREMAN, MASTER)

**–ü—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—è** (https://stroyka.asia):
- ‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ" ‚Üí –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ‚Üí **–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∏–ø**:
  - "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏" (CONTRACTOR)
  - **–û–¢–°–£–¢–°–¢–í–£–Æ–¢**: "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏"

---

## üîç –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: `MASTER` –≤ —Å–ø–∏—Å–∫–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π

**–§–∞–π–ª**: `backend/apps/users/views.py`
**–°—Ç—Ä–æ–∫–∞**: 247

```python
# –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER', 'MASTER']
                                                                    ^^^^^^^^
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:

1. Frontend –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å `GET /api/auth/users/` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `UserViewSet.get_queryset()` (—Å—Ç—Ä–æ–∫–∞ 236-290)
3. –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–ù–ï** —è–≤–ª—è–µ—Ç—Å—è `superadmin` –∏–ª–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º (`DIRECTOR`, `CHIEF_ENGINEER`, `PROJECT_MANAGER`), —Ç–æ:
   ```python
   # –ó–∞–ø—Ä–µ—â–∞–µ–º –¥–æ—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π (–∫—Ä–æ–º–µ –¥–µ–π—Å—Ç–≤–∏—è 'me')
   if self.action != 'me' and user.role in FORBIDDEN_ROLES:
       return User.objects.none()
   ```
4. –î–ª—è —Ä–æ–ª–µ–π –∏–∑ `FORBIDDEN_ROLES` (–≤–∫–ª—é—á–∞—è **MASTER**) –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫**
5. Frontend —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π:
   ```typescript
   const allExecutors = users.filter((u: any) => EXECUTOR_ROLES.includes(u.role))
   // EXECUTOR_ROLES = ['CONTRACTOR', 'SITE_MANAGER', 'FOREMAN', 'MASTER']
   ```
6. –ï—Å–ª–∏ `MASTER` –Ω–µ –ø—Ä–∏—à—ë–ª –∏–∑ API ‚Üí –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ `allExecutors`
7. –î–∞–ª–µ–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π:
   ```typescript
   const internalExecutorsList = contractors.filter((u: any) =>
     ['SITE_MANAGER', 'FOREMAN', 'MASTER'].includes(u.role)
   )
   ```
8. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `internalExecutorsList.length === 0` ‚Üí –±–ª–æ–∫ `OptGroup` –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

---

## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–Å–ù–ù–´–ï –§–ê–ö–¢–´

1. ‚úÖ **–£ –≤—Å–µ—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑–∞–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è** (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
2. ‚úÖ **–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** (—Å—Ç—Ä–æ–∫–∏ 413-437 –≤ `Issues.tsx`)
3. ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ —Å —Ä–æ–ª—å—é MASTER** ‚Äî –æ–Ω–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ API

---

## üéØ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å `MASTER` –∏–∑ `FORBIDDEN_ROLES`

**–§–∞–π–ª**: `backend/apps/users/views.py`
**–°—Ç—Ä–æ–∫–∞**: 247

**–ë–´–õ–û**:
```python
FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER', 'MASTER']
```

**–°–¢–ê–õ–û**:
```python
FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER']
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
- –†–æ–ª—å `MASTER` (–ú–∞—Å—Ç–µ—Ä) —è–≤–ª—è–µ—Ç—Å—è **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º** –∑–∞–º–µ—á–∞–Ω–∏–π
- –ú–∞—Å—Ç–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∑–∞–º–µ—á–∞–Ω–∏—è —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–∞—Å—Ç–µ—Ä–æ–≤ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ —Å–∏—Å—Ç–µ–º—ã
- –†–æ–ª–∏ `CONTRACTOR`, `SUPERVISOR`, `OBSERVER` –æ—Å—Ç–∞—é—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ –ø—Ä–µ–∂–Ω–∏–º –ø—Ä–∏—á–∏–Ω–∞–º

---

### ‚úÖ –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞:

```bash
# –ù–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ
cd /path/to/checksite
docker compose restart backend
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CI/CD ‚Äî –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é backend.

---

### ‚úÖ –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

1. –û—Ç–∫—Ä—ã—Ç—å https://stroyka.asia
2. –í–æ–π—Ç–∏ –ø–æ–¥ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é (–ù–ï superadmin)
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ó–∞–º–µ—á–∞–Ω–∏—è"
4. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ"
5. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**: –í –ø–æ–ª–µ "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å" –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è **–¥–≤–∞ —Ä–∞–∑–¥–µ–ª–∞**:
   - ‚úÖ "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏"
   - ‚úÖ "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" (SITE_MANAGER, FOREMAN, MASTER)

---

## üî¨ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Ω–∞ Frontend

**–§–∞–π–ª**: `frontend/src/pages/Issues.tsx`
**–°—Ç—Ä–æ–∫–∏**: 407-445

```typescript
// –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
const allExecutors = users.filter((u: any) => EXECUTOR_ROLES.includes(u.role))

// –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
const contractors = selectedProjectId
  ? [
      // –ü–æ–¥—Ä—è–¥—á–∏–∫–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
      ...(Array.isArray(projectContractorsData) ? projectContractorsData : []),

      // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏–∑ —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–∏
      ...allExecutors.filter((u: any) => {
        const isInternalRole = ['SITE_MANAGER', 'FOREMAN', 'MASTER'].includes(u.role)
        const userCompanyId = user?.company ? Number(user.company) : null
        const executorCompanyId = u.company ? Number(u.company) : null
        const sameCompany = userCompanyId && executorCompanyId && userCompanyId === executorCompanyId

        return isInternalRole && sameCompany  // ‚Üê –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏
      })
    ]
  : allExecutors

// –†–∞–∑–¥–µ–ª—è–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Ω–∞ –≥—Ä—É–ø–ø—ã
const contractorsList = contractors.filter((u: any) => u.role === 'CONTRACTOR')
const internalExecutorsList = contractors.filter((u: any) =>
  ['SITE_MANAGER', 'FOREMAN', 'MASTER'].includes(u.role)
)
```

**–£—Å–ª–æ–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ** (—Å—Ç—Ä–æ–∫–∏ 1329-1337):

```tsx
{internalExecutorsList.length > 0 && (
  <OptGroup label="–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏">
    {internalExecutorsList.map((executor: any) => (
      <Option key={executor.id} value={executor.id}>
        {executor.last_name} {executor.first_name}
      </Option>
    ))}
  </OptGroup>
)}
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ï—Å–ª–∏ `internalExecutorsList.length === 0`, –±–ª–æ–∫ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è.

---

### Backend API —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–§–∞–π–ª**: `backend/apps/users/views.py`
**–°—Ç—Ä–æ–∫–∏**: 236-290

```python
def get_queryset(self):
    """–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º."""
    user = self.request.user

    # –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER', 'MASTER']  # ‚Üê –ü–†–û–ë–õ–ï–ú–ê

    # Superadmin sees all users
    if user.is_superuser:
        return User.objects.all()

    # –ó–∞–ø—Ä–µ—â–∞–µ–º –¥–æ—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π (–∫—Ä–æ–º–µ –¥–µ–π—Å—Ç–≤–∏—è 'me')
    if self.action != 'me' and user.role in FORBIDDEN_ROLES:
        return User.objects.none()  # ‚Üê –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π queryset

    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
```

**–°–ª–µ–¥—Å—Ç–≤–∏–µ**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é `MASTER` –Ω–µ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ù–û**: –î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PROJECT_MANAGER`) —Ç–æ–∂–µ –Ω–µ —É–≤–∏–¥—è—Ç –º–∞—Å—Ç–µ—Ä–æ–≤ –≤ —Å–ø–∏—Å–∫–µ, —Ç–∞–∫ –∫–∞–∫ API –Ω–µ –≤–µ—Ä–Ω—ë—Ç –∏—Ö

**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞—Ç—å `MASTER` –∏–∑ —Å–ø–∏—Å–∫–∞, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ `CONTRACTOR`, `SUPERVISOR`, `OBSERVER`.

---

## üìä –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è**:
- [x] –®–∞–≥ 1: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ `backend/apps/users/views.py:247` ‚úÖ
- [x] –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend ‚úÖ
- [ ] –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ" ‚è≥
- [ ] –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è ‚è≥

**–ü—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—è**:
- [ ] –î–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

## üöÄ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ"** ‚Üí **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ–¥—Ä—è–¥—á–∏–∫–∏                          ‚îÇ
‚îÇ  ‚îú‚îÄ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω                     ‚îÇ
‚îÇ  ‚îî‚îÄ –ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä                     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏              ‚îÇ ‚Üê ‚úÖ –ü–û–Ø–í–ò–¢–°–Ø
‚îÇ  ‚îú‚îÄ –°–∏–¥–æ—Ä–æ–≤ –°–∏–¥–æ—Ä (–ù–∞—á–∞–ª—å–Ω–∏–∫)       ‚îÇ
‚îÇ  ‚îú‚îÄ –ö–æ–∑–ª–æ–≤ –ö–æ–∑—ë–ª (–ü—Ä–æ—Ä–∞–±)           ‚îÇ
‚îÇ  ‚îî‚îÄ –ú–∞—Å—Ç–µ—Ä–æ–≤ –ú–∞—Å—Ç–µ—Ä (–ú–∞—Å—Ç–µ—Ä)        ‚îÇ ‚Üê ‚úÖ –ú–ê–°–¢–ï–†–ê –ë–£–î–£–¢ –í–ò–î–ù–´
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

- –≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ **–Ω–µ –≤–ª–∏—è–µ—Ç** –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- –†–æ–ª–∏ `CONTRACTOR`, `SUPERVISOR`, `OBSERVER` –æ—Å—Ç–∞—é—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ (–∫–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å)
- –†–æ–ª—å `MASTER` –ª–æ–≥–∏—á–µ—Å–∫–∏ —è–≤–ª—è–µ—Ç—Å—è **–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º**, –∞ –Ω–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (2025-11-08)

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ backend

**–§–∞–π–ª**: `backend/apps/users/views.py`
**–°—Ç—Ä–æ–∫–∞**: 247-248

**–ë—ã–ª–æ**:
```python
# –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER', 'MASTER']
```

**–°—Ç–∞–ª–æ**:
```python
# –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
# MASTER —É–±—Ä–∞–Ω –∏–∑ —Å–ø–∏—Å–∫–∞, —Ç–∞–∫ –∫–∞–∫ —è–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–º–µ—á–∞–Ω–∏–π
FORBIDDEN_ROLES = ['CONTRACTOR', 'SUPERVISOR', 'OBSERVER']
```

### 2. Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

```bash
docker compose restart backend
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ Backend —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8000

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –ü—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—è:
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5174 (–ª–æ–∫–∞–ª—å–Ω–æ) –∏–ª–∏ https://stroyka.asia (–ø—Ä–æ–¥–∞–∫—à–Ω)
2. –í–æ–π—Ç–∏ –ø–æ–¥ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é (–ù–ï superadmin)
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É **"–ó–∞–º–µ—á–∞–Ω–∏—è"** ‚Üí **"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏–µ"**
4. –í—ã–±—Ä–∞—Ç—å **–ø—Ä–æ–µ–∫—Ç**
5. –û—Ç–∫—Ä—ã—Ç—å –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ **"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"**
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –¥–≤—É—Ö –≥—Ä—É–ø–ø**:
   - ‚úÖ "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏" (CONTRACTOR)
   - ‚úÖ "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" (SITE_MANAGER, FOREMAN, MASTER)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –í —Å–ø–∏—Å–∫–µ "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏:
- –ù–∞—á–∞–ª—å–Ω–∏–∫ —É—á–∞—Å—Ç–∫–∞ (SITE_MANAGER)
- –ü—Ä–æ—Ä–∞–± (FOREMAN)
- –ú–∞—Å—Ç–µ—Ä (MASTER) ‚Üê **–†–∞–Ω–µ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª, —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è**

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

#root {
  min-height: 100vh;
  overflow-x: hidden;
}

/* ========================================
   ГЛОБАЛЬНЫЕ АДАПТИВНЫЕ СТИЛИ
   ======================================== */

/* Ant Design overrides */
.ant-layout {
  min-height: 100vh;
}

.ant-layout-sider {
  overflow: auto;
  height: 100vh;
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
}

/* Compensation for fixed sider */
.ant-layout-sider + .ant-layout {
  margin-left: 200px;
  transition: margin-left 0.2s;
}

.ant-layout-sider.ant-layout-sider-collapsed + .ant-layout {
  margin-left: 80px;
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ ТАБЛИЦ
   ======================================== */

/* Таблицы прокручиваются горизонтально на маленьких экранах */
.ant-table-wrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 768px) {
  .ant-table {
    font-size: 12px;
  }

  .ant-table-thead > tr > th {
    padding: 8px 4px !important;
    font-size: 12px;
    white-space: nowrap;
  }

  .ant-table-tbody > tr > td {
    padding: 8px 4px !important;
    font-size: 12px;
  }

  /* Скрываем некритичные колонки на мобильных */
  .ant-table-hide-on-mobile {
    display: none !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ МОДАЛЬНЫХ ОКОН
   ======================================== */

@media (max-width: 768px) {
  .ant-modal {
    max-width: calc(100vw - 32px) !important;
    margin: 16px auto !important;
  }

  .ant-modal-content {
    border-radius: 12px !important;
  }

  .ant-modal-body {
    padding: 16px !important;
    max-height: calc(100vh - 200px);
    overflow-y: auto;
  }

  .ant-modal-header {
    padding: 12px 16px !important;
  }

  .ant-modal-footer {
    padding: 12px 16px !important;
  }
}

@media (max-width: 576px) {
  .ant-modal {
    max-width: 100vw !important;
    margin: 0 !important;
    top: 0 !important;
    padding-bottom: 0 !important;
  }

  .ant-modal-content {
    border-radius: 0 !important;
    min-height: 100vh;
  }

  .ant-modal-body {
    max-height: calc(100vh - 120px);
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ ФОРМ
   ======================================== */

@media (max-width: 768px) {
  .ant-form-item {
    margin-bottom: 12px !important;
  }

  .ant-form-item-label {
    padding-bottom: 4px !important;
  }

  .ant-form-item-label > label {
    font-size: 14px !important;
  }

  .ant-input,
  .ant-input-number,
  .ant-picker,
  .ant-select-selector,
  .ant-input-textarea {
    font-size: 14px !important;
  }

  .ant-btn {
    font-size: 14px !important;
    padding: 4px 12px !important;
    height: auto !important;
    min-height: 32px;
  }

  .ant-btn-lg {
    font-size: 16px !important;
    padding: 8px 16px !important;
    min-height: 40px;
  }

  .ant-btn-sm {
    font-size: 12px !important;
    padding: 2px 8px !important;
    min-height: 24px;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ КАРТОЧЕК
   ======================================== */

@media (max-width: 768px) {
  .ant-card {
    margin-bottom: 12px;
  }

  .ant-card-head {
    padding: 12px !important;
    font-size: 16px !important;
  }

  .ant-card-body {
    padding: 12px !important;
  }

  .ant-card-meta-title {
    font-size: 14px !important;
  }

  .ant-card-meta-description {
    font-size: 12px !important;
  }

  .ant-card-actions {
    padding: 0 !important;
  }

  .ant-card-actions > li {
    margin: 8px 0 !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ СТАТИСТИКИ
   ======================================== */

@media (max-width: 768px) {
  .ant-statistic {
    text-align: center;
  }

  .ant-statistic-title {
    font-size: 12px !important;
  }

  .ant-statistic-content {
    font-size: 20px !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ СЕТКИ (Grid)
   ======================================== */

/* Обеспечиваем, что колонки не выходят за границы экрана */
@media (max-width: 768px) {
  .ant-col {
    max-width: 100%;
  }

  .ant-row {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}

/* ========================================
   АДАПТАЦИЯ LAYOUT И SIDER
   ======================================== */

@media (max-width: 992px) {
  .ant-layout-sider + .ant-layout {
    margin-left: 0 !important;
  }

  .ant-layout-sider {
    position: fixed !important;
    z-index: 999;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  }
}

@media (max-width: 768px) {
  /* Header адаптация */
  .ant-layout-header {
    padding: 0 12px !important;
    height: 56px !important;
    line-height: 56px !important;
  }

  /* Content отступы */
  .ant-layout-content {
    margin: 12px 8px !important;
    padding: 0 !important;
  }

  /* Menu адаптация */
  .ant-menu-inline .ant-menu-item {
    padding-left: 16px !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ КНОПОК И ДЕЙСТВИЙ
   ======================================== */

@media (max-width: 576px) {
  /* Делаем кнопки-действия в ряд или стопкой */
  .ant-space {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .ant-space-vertical {
    width: 100%;
  }

  .ant-btn-group {
    display: flex;
    flex-wrap: wrap;
  }

  /* Dropdown меню на всю ширину */
  .ant-dropdown {
    max-width: calc(100vw - 32px);
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ ТЕГОВ И БЕЙДЖЕЙ
   ======================================== */

@media (max-width: 768px) {
  .ant-tag {
    font-size: 11px !important;
    padding: 2px 6px !important;
    line-height: 18px !important;
  }

  .ant-badge {
    font-size: 11px !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ SELECT И PICKER
   ======================================== */

@media (max-width: 768px) {
  .ant-select-dropdown,
  .ant-picker-dropdown {
    max-width: calc(100vw - 32px) !important;
  }

  .ant-cascader-dropdown {
    max-width: calc(100vw - 32px) !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ ОПИСАНИЙ И СПИСКОВ
   ======================================== */

@media (max-width: 768px) {
  .ant-descriptions {
    font-size: 12px;
  }

  .ant-descriptions-item-label {
    font-size: 12px !important;
    padding: 8px !important;
  }

  .ant-descriptions-item-content {
    font-size: 12px !important;
    padding: 8px !important;
  }

  .ant-list-item {
    padding: 8px !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ ШАГОВ И ПРОГРЕССА
   ======================================== */

@media (max-width: 768px) {
  .ant-steps {
    font-size: 12px;
  }

  .ant-steps-item-title {
    font-size: 14px !important;
  }

  .ant-steps-item-description {
    font-size: 12px !important;
  }
}

/* ========================================
   УТИЛИТЫ ДЛЯ АДАПТИВНОСТИ
   ======================================== */

/* Скрытие элементов на разных экранах */
.hide-on-mobile {
  display: block;
}

@media (max-width: 768px) {
  .hide-on-mobile {
    display: none !important;
  }
}

.show-on-mobile {
  display: none;
}

@media (max-width: 768px) {
  .show-on-mobile {
    display: block !important;
  }
}

/* Полная ширина на мобильных */
.mobile-full-width {
  width: auto;
}

@media (max-width: 768px) {
  .mobile-full-width {
    width: 100% !important;
  }
}

/* Текст адаптация */
@media (max-width: 768px) {
  h1, .ant-typography h1 {
    font-size: 24px !important;
  }

  h2, .ant-typography h2 {
    font-size: 20px !important;
  }

  h3, .ant-typography h3 {
    font-size: 18px !important;
  }

  h4, .ant-typography h4 {
    font-size: 16px !important;
  }

  h5, .ant-typography h5 {
    font-size: 14px !important;
  }

  p, .ant-typography p {
    font-size: 14px !important;
  }
}

/* Отключаем горизонтальную прокрутку */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Адаптация изображений */
img {
  max-width: 100%;
  height: auto;
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ TABS
   ======================================== */

@media (max-width: 768px) {
  .ant-tabs-tab {
    font-size: 12px !important;
    padding: 8px 12px !important;
  }

  .ant-tabs-nav {
    margin-bottom: 12px !important;
  }
}

/* ========================================
   АДАПТАЦИЯ ДЛЯ PAGINATION
   ======================================== */

@media (max-width: 768px) {
  .ant-pagination {
    text-align: center;
  }

  .ant-pagination-item {
    min-width: 28px !important;
    height: 28px !important;
    line-height: 26px !important;
    font-size: 12px !important;
  }

  .ant-pagination-prev,
  .ant-pagination-next {
    min-width: 28px !important;
    height: 28px !important;
    line-height: 28px !important;
  }

  /* Скрываем номера страниц, оставляем только стрелки */
  .ant-pagination-item {
    display: none !important;
  }

  .ant-pagination-item-active {
    display: inline-block !important;
  }
}

/* ========================================
   АДАПТАЦИЯ UPLOAD
   ======================================== */

@media (max-width: 768px) {
  .ant-upload-list-item {
    font-size: 12px !important;
  }

  .ant-upload-select {
    width: 100% !important;
  }
}

/* ========================================
   ДОПОЛНИТЕЛЬНЫЕ УТИЛИТЫ
   ======================================== */

/* Контейнер с отступами для мобильных */
@media (max-width: 768px) {
  .mobile-padding {
    padding: 12px !important;
  }

  .mobile-margin {
    margin: 12px !important;
  }
}

/* Безопасная зона для iPhone X и выше */
@supports (padding: max(0px)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}
